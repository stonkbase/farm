(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-633e8073"],{"1d17":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return d}));var r=n("a67d"),o=n("a8fc"),a=(n("901e"),n("a3ca"));function i(t){return e.from(t.startsWith("0x")?t.slice(2):t,"hex")}function s(e){return e?i(e):null}const c=e=>e&&27264===e.statusCode?new o["a"]("Please enable Contract data on the Ethereum app Settings"):e;class d{constructor(e,t="w0w"){this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getAddress","provideERC20TokenInformation","signTransaction","signPersonalMessage","getAppConfiguration","starkGetPublicKey","starkSignOrder","starkSignTransfer","starkProvideQuantum"],t)}getAddress(t,n,o){let a=Object(r["b"])(t),i=e.alloc(1+4*a.length);return i[0]=a.length,a.forEach((e,t)=>{i.writeUInt32BE(e,1+4*t)}),this.transport.send(224,2,n?1:0,o?1:0,i).then(e=>{let t={},n=e[0],r=e[1+n];return t.publicKey=e.slice(1,1+n).toString("hex"),t.address="0x"+e.slice(1+n+1,1+n+1+r).toString("ascii"),o&&(t.chainCode=e.slice(1+n+1+r,1+n+1+r+32).toString("hex")),t})}provideERC20TokenInformation({data:e}){return this.transport.send(224,10,0,0,e).then(()=>!0,e=>{if(e&&27904===e.statusCode)return!1;throw e})}signTransaction(t,n){let o,i=Object(r["b"])(t),s=0,d=e.from(n,"hex"),l=[],u=Object(a["decode"])(d),h=0;if(u.length>6){let e=Object(a["encode"])(u.slice(-3));h=d.length-(e.length-1)}while(s!==d.length){let t=0===s?149-4*i.length:150,n=s+t>d.length?d.length-s:t;0!=h&&s+n==h&&n--;let r=e.alloc(0===s?1+4*i.length+n:n);0===s?(r[0]=i.length,i.forEach((e,t)=>{r.writeUInt32BE(e,1+4*t)}),d.copy(r,1+4*i.length,s,s+n)):d.copy(r,0,s,s+n),l.push(r),s+=n}return Object(r["a"])(l,(e,t)=>this.transport.send(224,4,0===t?0:128,0,e).then(e=>{o=e})).then(()=>{const e=o.slice(0,1).toString("hex"),t=o.slice(1,33).toString("hex"),n=o.slice(33,65).toString("hex");return{v:e,r:t,s:n}},e=>{throw c(e)})}getAppConfiguration(){return this.transport.send(224,6,0,0).then(e=>{let t={};return t.arbitraryDataEnabled=1&e[0],t.erc20ProvisioningNecessary=2&e[0],t.starkEnabled=4&e[0],t.version=e[1]+"."+e[2]+"."+e[3],t})}signPersonalMessage(t,n){let o,a=Object(r["b"])(t),i=0,s=e.from(n,"hex"),c=[];while(i!==s.length){let t=0===i?149-4*a.length-4:150,n=i+t>s.length?s.length-i:t,r=e.alloc(0===i?1+4*a.length+4+n:n);0===i?(r[0]=a.length,a.forEach((e,t)=>{r.writeUInt32BE(e,1+4*t)}),r.writeUInt32BE(s.length,1+4*a.length),s.copy(r,1+4*a.length+4,i,i+n)):s.copy(r,0,i,i+n),c.push(r),i+=n}return Object(r["a"])(c,(e,t)=>this.transport.send(224,8,0===t?0:128,0,e).then(e=>{o=e})).then(()=>{const e=o[0],t=o.slice(1,33).toString("hex"),n=o.slice(33,65).toString("hex");return{v:e,r:t,s:n}})}starkGetPublicKey(t,n){let o=Object(r["b"])(t),a=e.alloc(1+4*o.length);return a[0]=o.length,o.forEach((e,t)=>{a.writeUInt32BE(e,1+4*t)}),this.transport.send(240,2,n?1:0,0,a).then(e=>e.slice(0,e.length-2))}starkSignOrder(t,n,o,a,i,c,d,l,u,h,p){const g=s(n),E=s(a);let I=Object(r["b"])(t),S=e.alloc(1+4*I.length+20+32+20+32+4+4+8+8+4+4,0),N=0;return S[0]=I.length,I.forEach((e,t)=>{S.writeUInt32BE(e,1+4*t)}),N=1+4*I.length,g&&g.copy(S,N),N+=20,e.from(o.toString(16).padStart(64,"0"),"hex").copy(S,N),N+=32,E&&E.copy(S,N),N+=20,e.from(i.toString(16).padStart(64,"0"),"hex").copy(S,N),N+=32,S.writeUInt32BE(c,N),N+=4,S.writeUInt32BE(d,N),N+=4,e.from(l.toString(16).padStart(16,"0"),"hex").copy(S,N),N+=8,e.from(u.toString(16).padStart(16,"0"),"hex").copy(S,N),N+=8,S.writeUInt32BE(h,N),N+=4,S.writeUInt32BE(p,N),this.transport.send(240,4,1,0,S).then(e=>{const t=e.slice(1,33).toString("hex"),n=e.slice(33,65).toString("hex");return{r:t,s:n}})}starkSignTransfer(t,n,o,a,c,d,l,u,h){const p=s(n),g=i(a);let E=Object(r["b"])(t),I=e.alloc(1+4*E.length+20+32+32+4+4+8+4+4,0),S=0;return I[0]=E.length,E.forEach((e,t)=>{I.writeUInt32BE(e,1+4*t)}),S=1+4*E.length,p&&p.copy(I,S),S+=20,e.from(o.toString(16).padStart(64,"0"),"hex").copy(I,S),S+=32,g.copy(I,S),S+=32,I.writeUInt32BE(c,S),S+=4,I.writeUInt32BE(d,S),S+=4,e.from(l.toString(16).padStart(16,"0"),"hex").copy(I,S),S+=8,I.writeUInt32BE(u,S),S+=4,I.writeUInt32BE(h,S),this.transport.send(240,4,2,0,I).then(e=>{const t=e.slice(1,33).toString("hex"),n=e.slice(33,65).toString("hex");return{r:t,s:n}})}starkProvideQuantum(t,n){const r=s(t);let o=e.alloc(52,0);return r&&r.copy(o,0),e.from(n.toString(16).padStart(64,"0"),"hex").copy(o,20),this.transport.send(240,8,0,0,o).then(()=>!0,e=>{if(e&&27904===e.statusCode)return!1;throw e})}}}.call(this,n("b639").Buffer)},a67d:function(e,t,n){"use strict";function r(e){let t=[],n=e.split("/");return n.forEach(e=>{let n=parseInt(e,10);isNaN(n)||(e.length>1&&"'"===e[e.length-1]&&(n+=2147483648),t.push(n))}),t}function o(e,t){function n(e,r,o){return e>=r.length?o:t(r[e],e).then((function(t){return o.push(t),n(e+1,r,o)}))}return Promise.resolve().then(()=>n(0,e,[]))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},a8fc:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return h}));var r={},o={},a=function(e,t){o[e]=t},i=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,r[e]=t,t};i("AccountNameRequired"),i("AccountNotSupported"),i("AmountRequired"),i("BluetoothRequired"),i("BtcUnmatchedApp"),i("CantOpenDevice"),i("CashAddrNotSupported"),i("CurrencyNotSupported"),i("DeviceAppVerifyNotSupported"),i("DeviceGenuineSocketEarlyClose"),i("DeviceNotGenuine"),i("DeviceOnDashboardExpected"),i("DeviceOnDashboardUnexpected"),i("DeviceInOSUExpected"),i("DeviceHalted"),i("DeviceNameInvalid"),i("DeviceSocketFail"),i("DeviceSocketNoBulkStatus"),i("DisconnectedDevice"),i("DisconnectedDeviceDuringOperation"),i("EnpointConfig");var s=i("EthAppPleaseEnableContractData"),c=(i("FeeEstimationFailed"),i("FirmwareNotRecognized"),i("HardResetFail"),i("InvalidXRPTag"),i("InvalidAddress"),i("InvalidAddressBecauseDestinationIsAlsoSource"),i("LatestMCUInstalledError"),i("UnknownMCU"),i("LedgerAPIError"),i("LedgerAPIErrorWithMessage"),i("LedgerAPINotAvailable"),i("ManagerAppAlreadyInstalled"),i("ManagerAppRelyOnBTC"),i("ManagerAppDepInstallRequired"),i("ManagerAppDepUninstallRequired"),i("ManagerDeviceLocked"),i("ManagerFirmwareNotEnoughSpace"),i("ManagerNotEnoughSpace"),i("ManagerUninstallBTCDep"),i("NetworkDown"),i("NoAddressesFound"),i("NotEnoughBalance"),i("NotEnoughBalanceToDelegate"),i("NotEnoughBalanceInParentAccount"),i("NotEnoughSpendableBalance"),i("NotEnoughBalanceBecauseDestinationNotCreated"),i("NoAccessToCamera"),i("NotEnoughGas"),i("NotSupportedLegacyAddress"),i("GasLessThanEstimate"),i("PasswordsDontMatch"),i("PasswordIncorrect"),i("RecommendSubAccountsToEmpty"),i("RecommendUndelegation"),i("TimeoutTagged"),i("UnexpectedBootloader"),i("MCUNotGenuineToDashboard"),i("RecipientRequired"),i("UnavailableTezosOriginatedAccountReceive"),i("UnavailableTezosOriginatedAccountSend"),i("UpdateFetchFileFail"),i("UpdateIncorrectHash"),i("UpdateIncorrectSig"),i("UpdateYourApp"),i("UserRefusedDeviceNameChange"),i("UserRefusedAddress"),i("UserRefusedFirmwareUpdate"),i("UserRefusedAllowManager"),i("UserRefusedOnDevice"),i("TransportOpenUserCancelled"),i("TransportInterfaceNotAvailable"),i("TransportRaceCondition"));i("TransportWebUSBGestureRequired"),i("DeviceShouldStayInApp"),i("WebsocketConnectionError"),i("WebsocketConnectionFailed"),i("WrongDeviceForAccount"),i("WrongAppForCurrency"),i("ETHAddressNonEIP"),i("CantScanQRCode"),i("FeeNotLoaded"),i("FeeRequired"),i("FeeTooHigh"),i("SyncError"),i("PairingFailed"),i("GenuineCheckFailed"),i("LedgerAPI4xx"),i("LedgerAPI5xx"),i("FirmwareOrAppUpdateRequired"),i("NoDBPathGiven"),i("DBWrongPassword"),i("DBNotReset");function d(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}d.prototype=new Error,a("TransportError",(function(e){return new d(e.message,e.id)}));var l={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function u(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}function h(e){this.name="TransportStatusError";var t=Object.keys(l).find((function(t){return l[t]===e}))||"UNKNOWN_ERROR",n=u(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}h.prototype=new Error,a("TransportStatusError",(function(e){return new h(e.statusCode)}))}}]);
//# sourceMappingURL=chunk-633e8073.7a6e2931.js.map